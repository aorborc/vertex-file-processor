(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8721:function(e,t,n){Promise.resolve().then(n.bind(n,434))},434:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var i=n(7437),s=n(2265);function r(){let[e,t]=(0,s.useState)("https://creatorapp.zohopublic.in/file/deloittettipl/trade-invoice-platform/Files/133740007807502149/upload_invoice/download/5WnO5ZXWDuSsTXDKDHKFN3wV2bj2zwCE47zZ97HVe7rCWHnjQQftsTpZqXeO7uBX0eu8qRrS6yANufr7b6PCOMmxk32t43nQeMNb?filepath=/1756645255475149_13.pdf"),[n,r]=(0,s.useState)("Extract structured invoice data with per-field confidence scores. Return ONLY JSON with this schema: { supplier_name, supplier_address, supplier_tax_id, invoice_number, invoice_date, due_date, bill_to, ship_to, currency, subtotal, tax, total, line_items: [{ description, quantity, unit_price, amount, confidence }], fields_confidence: { field_name: score } }. Parse all line items (description, quantity, unit_price, amount). Provide numeric values where possible. Confidence range 0-1."),[l,o]=(0,s.useState)(!1),[d,a]=(0,s.useState)(null),[c,p]=(0,s.useState)(null),u="https://us-central1-gemini-lens-w9we5.cloudfunctions.net/processFile",h="POST "+u+'\nContent-Type: application/json\n\n{\n  "fileUrl": "https://.../file.pdf" | "gs://bucket/path.pdf",\n  "prompt": "<instruction>"\n}',f=async t=>{t.preventDefault(),o(!0),p(null),a(null);try{let t=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileUrl:e,prompt:n})}),i=await t.json();if(!t.ok)throw Error((null==i?void 0:i.error)||"Request failed");a(i)}catch(e){p(e.message||"Unexpected error")}finally{o(!1)}};return(0,i.jsxs)("main",{children:[(0,i.jsx)("h1",{children:"Vertex PDF Processor"}),(0,i.jsxs)("section",{style:{margin:"16px 0",padding:12,background:"#f7fafc",border:"1px solid #e3e8ee"},children:[(0,i.jsx)("h2",{style:{marginTop:0},children:"Overview"}),(0,i.jsxs)("p",{children:["Use this page to send a PDF URL and prompt to Vertex AI. The server uploads to Google Cloud Storage and calls Gemini. In production, Hosting rewrites ",(0,i.jsx)("code",{children:"/api/process-file"})," to the Cloud Function."]}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:["Effective API base: ",(0,i.jsx)("code",{children:u})]}),(0,i.jsx)("li",{children:"Accepts http/https or gs:// URLs"}),(0,i.jsxs)("li",{children:["Response includes ",(0,i.jsx)("code",{children:"gcsUri"}),", parsed ",(0,i.jsx)("code",{children:"extracted"}),", and full ",(0,i.jsx)("code",{children:"vertex"})]})]}),(0,i.jsx)("h3",{children:"Request"}),(0,i.jsx)("pre",{style:{whiteSpace:"pre-wrap"},children:h})]}),(0,i.jsxs)("form",{onSubmit:f,style:{display:"grid",gap:12,maxWidth:900},children:[(0,i.jsxs)("label",{children:["PDF URL",(0,i.jsx)("input",{type:"url",placeholder:"https://example.com/file.pdf",value:e,onChange:e=>t(e.target.value),required:!0,style:{width:"100%",padding:8,marginTop:4}})]}),(0,i.jsxs)("label",{children:["Prompt",(0,i.jsx)("textarea",{value:n,onChange:e=>r(e.target.value),rows:4,style:{width:"100%",padding:8,marginTop:4}})]}),(0,i.jsx)("button",{type:"submit",disabled:l,style:{padding:"8px 12px",width:"fit-content"},children:l?"Processingâ€¦":"Send to Vertex"})]}),c&&(0,i.jsxs)("p",{style:{color:"crimson",marginTop:16},children:["Error: ",c]}),d&&(0,i.jsxs)("div",{style:{marginTop:16},children:[(0,i.jsx)("h3",{children:"Response"}),(0,i.jsx)("pre",{style:{background:"#f5f5f5",padding:12,overflowX:"auto"},children:JSON.stringify(d,null,2)})]})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=8721)}),_N_E=e.O()}]);